# 概述
## 什么是Prometheus?
Prometheus是最初部署在SoundCloud上的开源的监控和报警工具。从2012年起，很多公司和组织都开始使用Prometheus，并且这个项目有了很多活跃的开发者和用户讨论社区。它现在是一个独立的开源项目，并独立于任何公司进行维护。为了强调这一点，并澄清项目的治理结构，继Kubernetes之后，Prometheus加入云计算基金会，作为第二大托管项目。

## 特点
Prometheus的主要特点有以下：

- 一种基于metric name和键值对的时间序列的多维度数据模型
- 灵活的查询语言来查询多维度的数据
- 不依赖分布式存储，单个Server节点是自治的
- 时序数据的收集通过HTTP的拉模式实现
- 可以通过Gateway来支持推送时序数据
- 目标发现可以通过静态配置或者发现服务来发现
- 支持多种模式的趋势图和仪表盘

## 组件
Prometheus 生态系统由多个组件组成，其中许多都是可选的：

- Prometheus server是拉去和存储时序数据的组件
- client libraries 是用于应用程序代码集成的客户端库
- push gateway是用来支持生命周期较为短暂的任务
- exporters 是用于一些特殊的服务，比如HAProxy,StatsD,Graphite等
- alertmanager是用来进行报警管理的
- 各种特殊工具

## 架构
这个图说明了Prometheus的体系结构及其一些生态系统组成部分：

![avatar](https://prometheus.io/assets/architecture.png)

Prometheus直接或者通过中间Gateway从短工作中抓取时序数据，它在本地存储所有的数据，并对该数据运行规则，以聚合和记录来自现有数据的新时间序列，或者产生告警。Grafana或者其他API用户可以用来可视化。

## 它适合哪些场景？
Prometheus 能很好的记录任何纯数字的时序数据。它既适用于数据中心的机器监控，也适用于高度动态的面向服务的体系结构的监控。在微服务世界中，它对多维度数据的收集和查询的支持是一种特殊的能力。
Prometheus是为可靠性而设计的，它是你在服务故障时可以使用的系统，可以让你快速诊断服务问题。每个Prometheus服务是独立的，不依赖于网络存储或者其他的远程服务，当基础服务或者其他部分出现故障时，你还可以依赖它，并且不需要设置广泛的基础服务来使用它。

## 它不适合哪些场景？
Prometheus 重视可靠性，即使在故障的情况下，也可以查看系统的统计信息。如果你需要100%的准确性，例如对每个请求进行计费，那么Prometheus不是一个很好的选择，因为他所收集的数据可能不够详细和完整，在这种情况下，最好使用一些其他系统收集和分析的账单数据，使用Prometheus来进行监控。
